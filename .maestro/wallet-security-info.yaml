appId: com.anonymous.backpackuionly
---
# Test: Wallet Security Info - Verify private key and seed phrase dialogs
# This test verifies:
# 1. Opening wallet dropdown
# 2. Opening 3-dot menu
# 3. Opening private key bottom sheet
# 4. Copying private key
# 5. Closing private key sheet
# 6. Opening seed phrase bottom sheet
# 7. Copying seed phrase
# 8. Closing seed phrase sheet

- launchApp
- waitForAnimationToEnd
- waitForAnimationToEnd

# Tap bottom center to dismiss any notification drawer
- tapOn:
    point: "50%,90%"
- waitForAnimationToEnd

- takeScreenshot: "01-initial-state"

# Step 1: Tap the wallet selector button in top left using testID
- tapOn:
    id: "wallet-selector-button"
- waitForAnimationToEnd
- waitForAnimationToEnd

- takeScreenshot: "02-wallet-list-opened"

# Step 2: Verify the bottom sheet opened and at least one wallet is visible
- assertVisible:
    id: "wallet-list-sheet"
- assertVisible: "Wallets"

# Step 3: Tap the 3-dot menu button on the first wallet
- tapOn:
    id: "first-wallet-menu-button"
- waitForAnimationToEnd
- waitForAnimationToEnd

- takeScreenshot: "03-menu-opened"

# Step 4: Verify the edit wallet sheet opened with all menu options
- assertVisible:
    id: "edit-wallet-sheet"
- assertVisible: "Edit Wallet"
- assertVisible: "Change Account Name"
- assertVisible: "Show Private Key"
- assertVisible: "Show Seed Phrase"
- assertVisible: "Delete Account"

# Step 5: Tap "Show Private Key" button
- tapOn:
    id: "show-private-key-button"
- waitForAnimationToEnd
- waitForAnimationToEnd

- takeScreenshot: "04-private-key-sheet-opened"

# Step 6: Verify private key bottom sheet is visible
- assertVisible: "Private Key"
- assertVisible: "Private Key:"

# Step 7: Verify private key is displayed (should contain base58 encoded key)
# Private keys are typically 88 characters in base58 encoding
- assertVisible:
    text: "[1-9A-HJ-NP-Za-km-z]{50,}"  # Match base58 pattern (at least 50 chars)

# Step 8: Tap copy button (the ⧉ icon) to copy private key
- tapOn:
    point: "90%,15%"  # Copy icon is in top right of the sheet
- waitForAnimationToEnd

- takeScreenshot: "05-private-key-copied"

# Step 9: Close the private key sheet by tapping close button
- tapOn: "✕"
- waitForAnimationToEnd

- takeScreenshot: "06-back-to-wallet-list"

# Step 10: Verify we can see either wallet list or wallet content
# (After closing, we should be back at wallet list)
- assertVisible:
    id: "wallet-list-sheet"

# Step 11: Open the 3-dot menu again to access seed phrase
- tapOn:
    id: "first-wallet-menu-button"
- waitForAnimationToEnd
- waitForAnimationToEnd

- takeScreenshot: "07-menu-reopened"

# Step 12: Verify the edit wallet sheet opened
- assertVisible:
    id: "edit-wallet-sheet"
- assertVisible: "Edit Wallet"

# Step 13: Tap "Show Seed Phrase" button
- tapOn:
    id: "show-seed-phrase-button"
- waitForAnimationToEnd
- waitForAnimationToEnd

- takeScreenshot: "08-seed-phrase-sheet-opened"

# Step 14: Verify seed phrase bottom sheet is visible
- assertVisible: "Seed Phrase"

# Step 15: Verify seed phrase is displayed (should contain 12 or 24 words)
# We'll check for common BIP39 words pattern
- assertVisible:
    text: "[a-z]+ [a-z]+ [a-z]+"  # Match at least 3 words

# Step 16: Tap copy button (the ⧉ icon) to copy seed phrase
- tapOn:
    point: "90%,15%"  # Copy icon is in top right of the sheet
- waitForAnimationToEnd

- takeScreenshot: "09-seed-phrase-copied"

# Step 17: Close the seed phrase sheet by tapping close button
- tapOn: "✕"
- waitForAnimationToEnd

- takeScreenshot: "10-back-to-wallet-list-again"

# Step 18: Verify we're back at the wallet list
- assertVisible:
    id: "wallet-list-sheet"

# Step 19: Close the wallet list
- tapOn:
    point: "50%,90%"
- waitForAnimationToEnd

- takeScreenshot: "11-test-complete"

# Test complete - private key and seed phrase dialogs verified!
